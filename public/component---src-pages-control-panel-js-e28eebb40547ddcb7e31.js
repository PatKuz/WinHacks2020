(self.webpackChunkclass_connect=self.webpackChunkclass_connect||[]).push([[49],{2498:function(e,t,n){"use strict";n.r(t);var o=n(2137),r=n(3552),a=n(7757),s=n.n(a),i=n(7294),l=n(5444),c=n(9),u=n(434),m=n(3388),d=n(5761),f=n(8630),p=n(6544),h=n(6428),b=n(4172),E=(0,c.default)(m.zw).withConfig({displayName:"control-panel__StyledCentered",componentId:"s5d4r8-0"})(["background:url(",");"],b.Z),C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._initFirebase=!1,t.state={roomCode:"",rooms:null},t.unsubRooms=null,t.loadData=(0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._initFirebase=!0,e.next=3,new Promise((function(e,n){var o=function(t){o=function(){return null},e(t)};t.unsubRooms=t.props.firebase.rooms().onSnapshot((function(e){var n=e.docs.map((function(e){return Object.assign({id:e.id},e.data())}));t.setState({rooms:n}),o(n)}),n)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)}))),t.setRoomCode=function(e){t.setState({roomCode:e})},t.attemptLogin=function(e){t.props.firebase.doSignInWithEmail(e.email,e.password).then((function(){(0,l.c4)("/control-panel")})).catch((function(e){return console.error(e)}))},t}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.firebase&&!this._initFirebase&&this.loadData()},n.componentDidUpdate=function(e){this.props.firebase&&!this._initFirebase&&this.loadData()},n.componentWillUnmount=function(){"function"==typeof this.unsubRooms&&this.unsubRooms()},n.render=function(){var e=this.state,t=e.rooms,n=e.roomCode,o=t?t.find((function(e){return e.id===n})):null;return""===n?i.createElement(i.Fragment,null,i.createElement(p.Z,{title:"Home",route:"/"}),i.createElement(E,null,i.createElement(f.Z,{size:"large"}),i.createElement(d.Z,{setRoomCode:this.setRoomCode}))):null==o?i.createElement(i.Fragment,null,i.createElement(p.Z,{title:"Home",route:"/"}),i.createElement(E,null,i.createElement(f.Z,{size:"large"}),i.createElement("h1",null," Room not found! "),i.createElement(d.Z,{setRoomCode:this.setRoomCode}))):i.createElement(i.Fragment,null,i.createElement(p.Z,{title:"Room",route:"/"}),i.createElement(h.Z,{room:o}))},t}(i.Component);t.default=(0,u.Pd)(C)}}]);
//# sourceMappingURL=component---src-pages-control-panel-js-e28eebb40547ddcb7e31.js.map